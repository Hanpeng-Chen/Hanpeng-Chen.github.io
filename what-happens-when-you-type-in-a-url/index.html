<!DOCTYPE HTML>
<html lang="zh-CN">

<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="代码视界">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://www.chenhanpeng.com">
    <script data-ad-client="ca-pub-1437849089810081" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!--SEO-->

<meta name="keywords" content="面试">


<meta name="description" content="“在浏览器中，从输入URL到页面展示，中间发生了什么？”这是一道经典的高频面试题，其中涉及了网络、操作系统、web等一系列的知识。接下来我们一起来看看要怎么回答这道题。
整个过程可以大致描述为：...">


<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">
    <!--Title-->

<title>
    
    「高频面试题」浏览器从输入url到页面展示中间发生了什么 |
    
    代码视界
</title>

<link rel="alternate" href="/atom.xml" title="代码视界" type="application/atom+xml">


<link rel="icon" href="/img/site_logo.jpg">

    

<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.7.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">
    

<script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?494af80fa01e8939bec179cfddf660d5";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>


<script>
(function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-142577364-1', 'auto');
ga('send', 'pageview');
</script>


    
<meta name="baidu-site-verification" content="rGeweWgWoh">


<script>
(function() {
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

</head></html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->
<body>
    <header class="main-header"  style="background-image:url(
    https://image.chenhanpeng.com/static/images/web_static_image/banner.jpg)"
     >
    <div class="main-header-box">
        <!-- <a class="header-avatar" href="/" title='Hanpeng Chen'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a> -->
        <a href="/" class="header-title">
            <h1> 代码视界 </h1>
        </a>
        <div class="branding">
            <!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
            <h2>
                Hanpeng Chen的个人博客
            </h2>
            
        </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                        <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://www.chenhanpeng.com">
                        代码视界</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                        <li role="presentation" class="text-center">
                            <a href="/"><i class="fa "></i>
                                首页</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/archives/"><i class="fa "></i>
                                文章列表</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/"><i class="fa "></i>
                                文章分类</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/tags/"><i class="fa "></i>
                                文章标签</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/links/"><i class="fa "></i>
                                友链</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/about/"><i class="fa "></i>
                                关于作者</a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="「高频面试题」浏览器从输入url到页面展示中间发生了什么">
            
            「高频面试题」浏览器从输入url到页面展示中间发生了什么
            
        </h1>
        <div class="post-meta">
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a class="category-link" href="/categories/前端/">前端</a> <a class="category-link" href="/categories/前端/面试/">面试</a> <a class="category-link" href="/categories/面试/">面试</a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            <a class="tag-link" href="/tags/面试/">面试</a>
            
        </span>
    </span>
    
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta">
            2021/03/18</span>
    </span>
    
    <span class="fa-wrap">
        <i class="fa fa-eye"></i>
        <span id="busuanzi_value_page_pv"></span>
    </span>
    
    
</div>
        
        
        <p class="fa fa-exclamation-triangle warning">
            本文于<strong>
                617</strong>
            天之前发表，文中内容可能已经过时。
        </p>
        
    </div>
    
    
    <div class="post-body post-content">
        <p>“在浏览器中，从输入URL到页面展示，中间发生了什么？”这是一道经典的高频面试题，其中涉及了网络、操作系统、web等一系列的知识。接下来我们一起来看看要怎么回答这道题。</p>
<p>整个过程可以大致描述为：</p>
<h2 id="URL解析"><a href="#URL解析" class="headerlink" title="URL解析"></a>URL解析</h2><p>用户输入URL，浏览器会根据用户输入的信息判断是搜索内容还是请求的URL。如果是搜索内容，就将搜索内容+默认搜索引擎来合成新的带搜索关键字的URL。如果判断输入内容符合URL规则，地址栏会根据规则，把内容加上协议，合成为完整的URL。</p>
<h3 id="地址解析"><a href="#地址解析" class="headerlink" title="地址解析"></a>地址解析</h3><table>
<thead>
<tr>
<th>协议</th>
<th>默认端口号</th>
<th>传输协议</th>
</tr>
</thead>
<tbody>
<tr>
<td>http</td>
<td>80</td>
<td>超文本传输协议</td>
</tr>
<tr>
<td>https</td>
<td>443</td>
<td>在http的基础上进行了安全设置(SSL/TSL)证书认证</td>
</tr>
<tr>
<td>ftp</td>
<td>21</td>
<td>主要用于客户端电脑和服务器端的文件传输</td>
</tr>
</tbody>
</table>
<h3 id="URL的编码"><a href="#URL的编码" class="headerlink" title="URL的编码"></a>URL的编码</h3><p>因为网络标准规定了URL只能是字母和数字，还有一些特殊符号（-_.~ ! * ‘ ( ) ; : @ &amp; = + $ , / ? # [ ]，</p>
<p>对于一些特殊字符，在客户端和服务端传递的时候，需要进行编码和解码。</p>
<ul>
<li><p>encodeURI、decodeURI：对中文、空格等编码解码，适合给URL本身编码</p>
</li>
<li><p>encodeURIComponent、decodeURIComponent：对中文、空格 : /等编码解码，编码范围更广，适合给参数编码。</p>
</li>
<li><p>escape unescape 主要用于客户端不同页面之间的数据传输的时候，信息的编码解码（如：cookie）</p>
</li>
</ul>
<h2 id="检查缓存"><a href="#检查缓存" class="headerlink" title="检查缓存"></a>检查缓存</h2><p>接下来就进入页面资源请求过程。</p>
<p>这时，浏览器进程会通过进程间通信把URL请求发送至网络进程，网络进程接收到URL请求后，会在这里发起真正的URL请求流程。</p>
<p>首先，网络进程会先查找本地缓存是否缓存了该资源。如果有缓存资源且缓存在有效期内，直接返回资源给浏览器进程；如果在缓存中没有找到该资源，那么直接进入网络请求流程。</p>
<p>这一步中的缓存是指强缓存，具体内容可以参考：<a href="https://juejin.cn/post/6915190788628905997" target="_blank" rel="noopener">一文彻底掌握HTTP缓存</a>。</p>
<p>发起网络请求的第一步就是要进行DNS解析。</p>
<h2 id="DNS解析"><a href="#DNS解析" class="headerlink" title="DNS解析"></a>DNS解析</h2><blockquote>
<p>DNS解析：就是根据浏览器识别出来的URL地址中的域名，到DNS服务器上，查找服务器外网IP的过程。</p>
</blockquote>
<p>DNS解析也是有缓存的：浏览器解析过一次，一般就会在本地记录一下解析记录。所以每一次DNS解析：本地DNS服务器解析(递归)、根/顶级/权威域名服务器解析(迭代)</p>
<h3 id="DNS解析过程"><a href="#DNS解析过程" class="headerlink" title="DNS解析过程"></a>DNS解析过程</h3><p>DNS的域名查找：客户端和浏览器，本地DNS之间的查询方式是递归查询；本地DNS服务器和根域及子域之间的查询方式是迭代查询。</p>
<p>在客户端输入URL后，会有一个递归查找的过程，从浏览器缓存中查找 -&gt; 本地的hosts文件查找 -&gt; 本地DNS解析器缓存查找 -&gt; 本地DNS服务器查找，在这个过程中任何一步找到了都会结束查找流程。</p>
<p>递归查找过程如下图所示：</p>
<p><img src="https://image.chenhanpeng.com/static/blog-images/blogImages/2021/20210311233929.png" alt></p>
<p>如果在本地DNS服务器中也没有查询到，则根据本地DNS服务器设置的转发器进行查询。若未用转发模式，则迭代查找过程如下图：</p>
<p><img src="https://image.chenhanpeng.com/static/blog-images/blogImages/2021/20210311234116.png" alt></p>
<h3 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h3><ul>
<li>减少DNS请求次数：页面中尽可能少用过多域名。HTTP有并发性，但它的并发性是受到源的限制的，同一个源一次最多并发4-7个。</li>
<li>DNS预获取（DNS Prefetch）：在不能减少DNS解析记录的情况下，可以把DNS预解析。处理方法如下：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"dns-prefetch"</span> <span class="attr">href</span>=<span class="string">"//g.alicdn.com"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="建立TCP连接，三次握手"><a href="#建立TCP连接，三次握手" class="headerlink" title="建立TCP连接，三次握手"></a>建立TCP连接，三次握手</h2><p>DNS解析获取到服务器的IP+端口后，接下来就是要建立TCP链接，这里就涉及到我们常说的“三次握手”。</p>
<p>首先，判断是不是https，如果是，则HTTPS其实是HTTP + SSL/TLS 两部分组成，也就是在HTTP基础上又加了一层处理加密信息的模块。服务端和客户端的信息传输都会通过TLS进行加密，所以传输的数据都是加密后的数据。</p>
<p>进行三次握手，建立TCP连接：</p>
<ul>
<li>第一次握手：建立连接。客户端发送连接请求报文段，将SYN位置为1，Sequence Number为x；然后，客户端进入SYN_SEND状态，等待服务器的确认；</li>
<li>第二次握手：服务器收到客户端的SYN报文段，需要对这个SYN报文段进行确认，设置Acknowledgment Number为 x+1；同时，自己还要发送SYN请求信息，将SYN位置为1，Sequence Number为y；服务器端将上述所有信息放到一个报文段（即SYN+ACK报文段）中，一并发送给客户端，此时服务器进入SYN_RECV状态；</li>
<li>第三次握手：客户端收到服务器的SYN+ACK报文段。然后将Acknowledgment Number设置为y+1，向服务器发送ACK报文段，这个报文段发送完毕以后，客户端和服务器端都进入ESTAB_LISHED状态，完成TCP三次握手。</li>
</ul>
<p><img src="https://image.chenhanpeng.com/static/blog-images/blogImages/2021/20210317232206.png" alt></p>
<ul>
<li>seq序号：用来标识从TCP源端向目的端发送的字节流，发起方发送数据时对此进行标记</li>
<li>ack确认序号：只有ACK标志位为1，确认序号字段才有效，ack=seq+1</li>
</ul>
<p>标识位：</p>
<ul>
<li>ACK：确认标识，用于表示对数据包的成功接收</li>
<li>SYN：同步标识，表示TCP连接已初始化，发起一个新连接</li>
<li>FIN：完成标识，释放一个连接，用于拆除上一个SYN标识。一个完整的TCP连接过程一定有SYN和FIN包。</li>
</ul>
<h2 id="数据传输"><a href="#数据传输" class="headerlink" title="数据传输"></a>数据传输</h2><p>TCP 连接建立之后，浏览器端会构建请求行、 请求头等信息，并把和该域名相关的 Cookie 等数据附加到请求头中，然后向服务器发送构建的请求信息。如果是 HTTPS，还需要进行 TSL 协商。</p>
<p>服务器接收到请求，就解析请求头，如果头部有缓存相关信息如if-none-match与if-modified-since，则验证缓存是否有效，若有效则返回状态码为304；若无效则重新返回资源，状态码为200。</p>
<p>这里会涉及HTTP的协商缓存，具体内容可以参考：<a href="https://juejin.cn/post/6915190788628905997" target="_blank" rel="noopener">一文彻底掌握HTTP缓存</a></p>
<h2 id="关闭TCP连接，四次挥手"><a href="#关闭TCP连接，四次挥手" class="headerlink" title="关闭TCP连接，四次挥手"></a>关闭TCP连接，四次挥手</h2><ul>
<li><p>第一次挥手：主机1（可以是客户端，也可以是服务器端），设置Sequence Number和Acknowledgment Number，向主机2发送一个FIN报文段；此时，主机1进入FIN_WAIT_1状态，表示主机1没有数据要发送给主机2了；</p>
</li>
<li><p>第二次挥手：主机2接收到主机1发送的FIN报文段，向主机1回一个ACK报文段，Acknowledgment Number为Sequence Number + 1；主机1进入 FIN_WAIT_2状态；主机2告诉主机1，我同意你的关闭请求；</p>
</li>
<li><p>第三次挥手：主机2向主机1发送FIN报文段，请求关闭连接，同时主机2进入LAST_ACK状态；</p>
</li>
<li><p>第四次挥手：主机1收到主机2发送的FIN报文段，向主机2发送ACK报文段，然后主机1进入TIME_WAIT状态；主机2收到主机1的ACK报文段后，就关闭连接；此时，主机1等待主机2 MSL后依然没有收到回复，则证明主机2已正常关闭，那好，主机1也可以关闭连接了。</p>
</li>
</ul>
<p><img src="https://image.chenhanpeng.com/static/blog-images/blogImages/2021/20210317233152.png" alt></p>
<h2 id="浏览器渲染"><a href="#浏览器渲染" class="headerlink" title="浏览器渲染"></a>浏览器渲染</h2><p>浏览器拿到资源会根据资源类型进行处理，比如是 gzip 压缩后的文件则进行解压缩，如果响应头 Content-type 是 text/html，则开始解析HTML。</p>
<p>按照渲染的时间顺序，流水线可以分为下面几个子阶段：构建DOM树、样式计算、布局阶段、分层、栅格化和显示。</p>
<p><img src="https://image.chenhanpeng.com/static/blog-images/blogImages/2021/spring/20210312110156.png" alt></p>
<p>1、渲染进程将HTML内容转换为浏览器能够读懂的DOM树结构。</p>
<p>2、渲染引擎将CSS样式表转化为浏览器可以理解的styleSheets，计算出DOM节点的样式。</p>
<p>3、创建布局树，并计算元素的布局信息。</p>
<p>4、对布局树进行分层，并生成分层树。</p>
<p>5、为每个图层生成绘制列表，并将其提交到合成线程。</p>
<p>6、合成线程将图层分图块，并栅格化将图块转换成位图。</p>
<p>7、合成线程发送绘制图块命令给浏览器进程。浏览器进程根据指令生成页面，并显示到显示器上。</p>
<h3 id="构建DOM树"><a href="#构建DOM树" class="headerlink" title="构建DOM树"></a>构建DOM树</h3><p>浏览器从网络或硬盘中获得HTML字节数据后，会先将HTML的原始字节数据转换为文件指定编码的字符，然后浏览器会根据HTML规范来将字符串转换为各种令牌标签，如html、body等，最终解析成一个树状的对象模型，就是DOM树。</p>
<p>具体步骤如下：</p>
<ul>
<li>转码：读取接收到的HTML二进制数据，按指定编码格式将字节转换为HTML字符串</li>
<li>Tokens化：解析HTML，将HTML字符串转换为结构清晰的Tokens，每个Token都有特殊的含义，同时又自己的一套规则</li>
<li>构建Nodes：每一个Node都添加特定的属性或属性访问器，通过指针能够确定Node的父、子、兄弟关系和所属treeScope</li>
<li>构建DOM树：最重要的工作就是建立起每个节点的父子兄弟关系。</li>
</ul>
<p>解析过程中遇到图片、link、script会启动下载。</p>
<p>script标签会阻塞 DOM 树的构建，所以一般将 script 放在底部，或者添加 async 、defer 标识。</p>
<p>css 下载时异步，不会阻塞浏览器构建 DOM 树，但是会阻塞渲染，布局阶段会等待 css 下载解析完毕后才进行。</p>
<h3 id="样式计算"><a href="#样式计算" class="headerlink" title="样式计算"></a>样式计算</h3><p>渲染引擎将CSS样式表转化为浏览器可以理解的styleSheets，计算出DOM节点的样式。</p>
<p>样式计算过程主要有两步：</p>
<ul>
<li><p>属性值标准化：先将所有值转换为渲染引擎容易理解的、标准化的计算值。在CSS文本中有很多属性值，如em、blue、bold等等，这些类型值不容易被渲染引擎理解，所以需要进行转换。</p>
</li>
<li><p>处理样式的继承和层叠，计算出DOM树中每个节点的具体样式。</p>
</li>
</ul>
<p>CSS样式来源主要有3种：</p>
<ul>
<li>通过link引用的外部css文件</li>
<li>style标签内的css</li>
<li>元素的style属性内嵌的css</li>
</ul>
<h3 id="布局阶段"><a href="#布局阶段" class="headerlink" title="布局阶段"></a>布局阶段</h3><p>布局过程，即排除script、meta等功能化、非视觉节点，排除 display:none 的节点，计算元素的位置信息，确定元素的位置，构建一棵只包含可见元素布局树。</p>
<h3 id="分层"><a href="#分层" class="headerlink" title="分层"></a>分层</h3><p>页面中有很多复杂的效果，如一些复杂的 3D 变换、页面滚动，或者使用 z-indexing 做 z 轴排序等，为了更加方便地实现这些效果，渲染引擎还需要为特定的节点生成专用的图层，并生成一棵对应的图层树（LayerTree）。</p>
<p>并不是布局树的每个节点都包含一个图层，如果一个节点没有对应的层，那么这个节点就从属于父节点的图层。</p>
<h3 id="图层绘制"><a href="#图层绘制" class="headerlink" title="图层绘制"></a>图层绘制</h3><p>渲染引擎实现图层的绘制：把一个图层的绘制拆分成很多小的绘制指令，然后再把这些指令按照顺序组成一个待绘制列表。</p>
<p>绘制列表中的指令非常简单，就是让其执行一个简单的绘制操作，比如绘制粉色矩形或者黑色的线等。</p>
<h3 id="栅格化"><a href="#栅格化" class="headerlink" title="栅格化"></a>栅格化</h3><p>合成线程会按照视口附近的图块来优先生成位图，实际生成位图的操作是由栅格化来执行的。所谓栅格化，是指将图块转换为位图。</p>
<p>通常一个页面可能很大，但是用户只能看到其中的一部分，我们把用户可以看到的这个部分叫做视口（viewport）。在有些情况下，有的图层可以很大，比如有的页面你使用滚动条要滚动好久才能滚动到底部，但是通过视口，用户只能看到页面的很小一部分，所以在这种情况下，要绘制出所有图层内容的话，就会产生太大的开销，而且也没有必要。</p>
<h3 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h3><p>最后，合成线程发送绘制图块命令给浏览器进程。浏览器进程根据指令生成页面，并显示到显示器上，渲染过程完成。</p>
<h3 id="页面渲染优化："><a href="#页面渲染优化：" class="headerlink" title="页面渲染优化："></a>页面渲染优化：</h3><ul>
<li>HTML文档结构层次尽量少，最好不深于六层；</li>
<li>脚本尽量后放，放在前即可；</li>
<li>少量首屏样式内联放在标签内</li>
<li>样式结构层次尽量简单</li>
<li>在脚本中尽量减少DOM操作，尽量缓存访问DOM的样式信息，避免过度触发回流；</li>
<li>减少通过JavaScript代码修改元素样式，尽量使用修改class名方式操作样式或动画；</li>
<li>动画尽量使用在绝对定位或固定定位的元素上；</li>
<li>隐藏在屏幕外，或在页面滚动时，尽量停止动画；</li>
<li>尽量缓存DOM查找，查找器尽量简洁；</li>
<li>涉及多域名的网站，可以开启域名预解析。</li>
</ul>
<blockquote>
<p>如果你觉得这篇内容对你有帮助的话：</p>
<p>1、<strong>点赞</strong>支持下吧，让更多的人也能看到这篇内容</p>
<p>2、关注公众号：<strong>前端极客技术</strong>，我们一起学习一起进步。</p>
</blockquote>

    </div>
    <div class="wechat">
        
            <strong> 欢迎关注微信公众号： 『前端极客技术』『代码视界』 </strong>
            <img class="wechat-image" src="https://image.chenhanpeng.com/static/images/web_static_image/article-gzh-qrcode.png" />
        
    </div>
    
    <div class="reward" ontouchstart>
    <div class="reward-wrap">赏
        <div class="reward-box">
            
            <span class="reward-type">
                <img class="alipay" src="https://image.chenhanpeng.com/static/images/web_static_image/donate/alipay_qrcode.png"><b>支付宝打赏</b>
            </span>
            
            
            <span class="reward-type">
                <img class="wechat" src="https://image.chenhanpeng.com/static/images/web_static_image/donate/weixin_pay_qrcode.png"><b>微信打赏</b>
            </span>
            
        </div>
    </div>
    <p class="reward-tip">
        赞赏是不耍流氓的鼓励
    </p>
</div>
    
    <div class="post-footer">
        <div>
            
            转载声明：
            商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">代码视界</a>
            
            
        </div>
        <div>
            
        </div>
    </div>
</article>
<div class="article-nav prev-next-wrap clearfix">
    
    <a href="/handwriting-promise-accord-with-promise-a-plus-specification/" class="pre-post btn btn-default" title='一起手写实现符合Promise/A+规范的Promise源码'>
        <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
        <span class="hidden-xs">
            一起手写实现符合Promise/A+规范的Promise源码</span>
    </a>
    
    
    <a href="/null/" class="next-post btn btn-default" title='「LeetCode系列」42.接雨水'>
        <span class="hidden-lg">下一篇</span>
        <span class="hidden-xs">
            「LeetCode系列」42.接雨水</span><i class="fa fa-angle-right fa-fw"></i>
    </a>
    
</div>

<!-- google广告 -->
<!-- <ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1437849089810081"
     data-ad-slot="9946365914"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script> -->


    <div id="comments">
        
<link rel="stylesheet" href="https://cdn.bootcss.com/gitalk/1.7.2/gitalk.min.css">
<script src="//cdn.bootcss.com/gitalk/1.7.2/gitalk.min.js"></script>
<script src="//cdn.bootcss.com/blueimp-md5/2.9.0/js/md5.min.js"></script>
<div id="gitalk-container"></div>
<script type="text/javascript">
var gitalk = new Gitalk({
    // Gitalk配置
    language: "zh-CN",
    clientID: "fb80658382dee5240195",
    clientSecret: "66663a08264192222ba993f20dd7c0a27c1e6fa5",
    repo: "blog-comments",
    owner: "Hanpeng-Chen",
    admin: ["Hanpeng-Chen"],
    id: md5(location.pathname),
    distractionFreeMode: true,
    proxy: "https://cloudflare-cors-anywhere.hanpengchen.workers.dev/?https://github.com/login/oauth/access_token"
});
gitalk.render('gitalk-container');
</script>

    </div>

                </main>
                
                    <div class="col-md-4">
<!-- 方形 -->
<!-- <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1437849089810081"
     data-ad-slot="2426112279"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script> -->
</div>
<aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">
            文章目录
        </h3>
        
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#URL解析"><span class="toc-text">URL解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#地址解析"><span class="toc-text">地址解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#URL的编码"><span class="toc-text">URL的编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#检查缓存"><span class="toc-text">检查缓存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS解析"><span class="toc-text">DNS解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS解析过程"><span class="toc-text">DNS解析过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#优化"><span class="toc-text">优化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#建立TCP连接，三次握手"><span class="toc-text">建立TCP连接，三次握手</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据传输"><span class="toc-text">数据传输</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关闭TCP连接，四次挥手"><span class="toc-text">关闭TCP连接，四次挥手</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#浏览器渲染"><span class="toc-text">浏览器渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#构建DOM树"><span class="toc-text">构建DOM树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#样式计算"><span class="toc-text">样式计算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#布局阶段"><span class="toc-text">布局阶段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分层"><span class="toc-text">分层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图层绘制"><span class="toc-text">图层绘制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#栅格化"><span class="toc-text">栅格化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#显示"><span class="toc-text">显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#页面渲染优化："><span class="toc-text">页面渲染优化：</span></a></li></ol></li></ol>
        
    </div>
</aside>
                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>
<a id="back-to-top" class="icon-btn hide">
    <i class="fa fa-chevron-up"></i>
</a>
    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>
            </div>
            <div class="col-sm-12">
                <span>Copyright &copy;
                    2019
                    
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
                
                    <span> | </span>
                    <span>
                        <a href="//beian.miit.gov.cn/" target="_blank" rel="nofollow">
                            闽ICP备19010134号-1
                        </a>
                    </span>
                
                
                    <span> | </span>
                    <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35020302033449" rel="nofollow">
                        <img src="https://image.chenhanpeng.com/static/images/web_static_image/beian_icon.png" width="20">
                        <span>闽公网安备 35020302033449号</span>
                    </a>
                         
            </div>
        </div>
    </div>
</div>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/app.js?rev=@@hash"></script>
</body>
</html>